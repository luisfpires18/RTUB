/* Mobile and responsive styles */

/* ========================================
   MOBILE RESPONSIVE STYLES
   ======================================== */

/* Mobile: Base styles for small screens (phones) */
@media (max-width: 768px) {
  /* Reset body and root font size for better mobile readability */
  body {
    font-size: 15px;
    -webkit-text-size-adjust: 100%;
  }

  /* Navbar mobile optimizations */
  .navbar {
    padding: 0.5rem 0.75rem;
    flex-wrap: wrap;
  }

  .navbar-brand {
    font-size: 1.1rem;
  }

  .navbar-toggler {
    min-width: 44px;
    min-height: 44px;
    padding: 0.5rem;
  }

  .navbar-nav {
    flex-direction: column;
    width: 100%;
    margin-top: 0.5rem;
  }

  .navbar-nav .nav-item {
    width: 100%;
  }

  .navbar-nav .nav-link {
    padding: 0.75rem 1rem;
    width: 100%;
    min-height: 48px;
  }

  .navbar-avatar {
    width: 28px;
    height: 28px;
  }

  /* Sidebar mobile behavior */
  .sidebar {
    position: fixed;
    width: 200px;
    transform: translateX(-220px);
    transition: transform 0.3s ease-in-out;
    z-index: 1050;
  }
  
  .sidebar.show {
    transform: translateX(0);
  }
  
  .main {
    margin-left: 0;
    margin-top: 3.25rem;
    padding: 0.75rem;
  }

  /* Container and layout adjustments */
  .container-xxl,
  .container-fluid {
    padding-right: 0.75rem;
    padding-left: 0.75rem;
  }

  /* Carousel mobile optimizations */
  .carousel-image {
    height: 250px;
    object-fit: cover;
  }

  .carousel-caption {
    padding: 0.5rem;
  }

  .carousel-caption h2,
  .carousel-caption .h3 {
    font-size: 1.1rem;
    margin-bottom: 0.25rem;
  }

  .carousel-caption p {
    font-size: 0.85rem;
    margin-bottom: 0;
  }

  /* Logo mobile sizing */
  .logo-main {
    max-width: 200px;
  }

  /* Typography adjustments */
  h1, .h1 {
    font-size: 1.75rem;
  }

  h2, .h2 {
    font-size: 1.5rem;
  }

  h3, .h3 {
    font-size: 1.25rem;
  }

  h4, .h4 {
    font-size: 1.1rem;
  }

  h5, .h5 {
    font-size: 1rem;
  }

  /* Button improvements - larger touch targets */
  .btn {
    min-height: 44px;
    padding: 0.5rem 1rem;
    font-size: 0.95rem;
  }

  .btn-sm {
    min-height: 38px;
    padding: 0.375rem 0.75rem;
    font-size: 0.875rem;
  }

  /* Form controls - better mobile interaction */
  .form-control,
  .form-select {
    font-size: 16px; /* Prevents zoom on iOS */
    min-height: 44px;
    padding: 0.5rem 0.75rem;
  }

  .form-label {
    font-size: 0.95rem;
    margin-bottom: 0.375rem;
  }

  /* Table responsive improvements - better mobile experience */
  .table-responsive {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    margin-bottom: 1rem;
    /* Remove min-width constraint to allow natural sizing */
  }

  /* Improved table styling for mobile */
  .table {
    /* Remove min-width to allow tables to shrink */
    width: 100%;
    font-size: 0.85rem;
    border-collapse: separate;
    border-spacing: 0;
  }

  .table th,
  .table td {
    padding: 0.625rem 0.5rem;
    /* Allow text wrapping for better mobile display */
    white-space: normal;
    word-wrap: break-word;
    overflow-wrap: break-word;
    hyphens: auto;
    font-size: 0.85rem;
  }

  /* Make headers more compact on mobile */
  .table thead th {
    font-size: 0.8rem;
    padding: 0.5rem 0.375rem;
    background-color: rgba(var(--bs-primary-rgb), 0.15);
    font-weight: 600;
    vertical-align: middle;
  }

  /* Improve table row spacing */
  .table tbody tr {
    border-bottom: 1px solid var(--bs-border-color);
  }

  /* Make action buttons more compact */
  .table td .btn-sm {
    padding: 0.25rem 0.4rem;
    font-size: 0.8rem;
    min-height: 32px;
    min-width: 32px;
  }

  .table td .btn-sm i {
    font-size: 0.875rem;
  }

  /* Badge adjustments for tables */
  .table .badge {
    font-size: 0.7em;
    padding: 0.25em 0.5em;
    white-space: nowrap;
  }

  /* table-sm specific adjustments for mobile */
  .table-sm th,
  .table-sm td {
    padding: 0.5rem 0.375rem;
    font-size: 0.8rem;
  }

  .table-sm thead th {
    font-size: 0.75rem;
    padding: 0.4rem 0.375rem;
  }

  /* Improve clickable rows on mobile - add active state for touch */
  .table .clickable-row {
    cursor: pointer;
    transition: background-color 0.15s ease;
  }

  .table .clickable-row:hover,
  .table .clickable-row:active {
    background-color: rgba(var(--bs-primary-rgb), 0.12);
  }

  /* Improve table-hover rows on mobile */
  .table-hover tbody tr {
    transition: background-color 0.15s ease;
  }

  .table-hover tbody tr:hover,
  .table-hover tbody tr:active {
    background-color: rgba(var(--bs-primary-rgb), 0.15);
  }

  /* Ensure table-striped rows have good contrast on mobile */
  .table-striped tbody tr:nth-of-type(odd) {
    background-color: rgba(24, 24, 25, 0.8);
  }

  .table-striped tbody tr:nth-of-type(even) {
    background-color: rgba(21, 21, 22, 0.6);
  }

  /* Card mobile optimizations */
  .card {
    margin-bottom: 0.75rem;
    padding: 0.875rem;
  }

  .card-body {
    padding: 0.75rem;
  }

  .card-header {
    padding: 0.625rem 0.875rem;
    margin: -0.875rem -0.875rem 0.75rem -0.875rem;
  }

  /* Modal mobile adjustments */
  .modal-dialog {
    margin: 0.5rem;
    max-width: calc(100% - 1rem);
  }

  .modal-content {
    max-height: calc(100vh - 1rem);
    overflow-y: auto;
  }

  /* Avatar sizing for mobile */
  .avatar {
    width: 150px;
    height: 150px;
  }

  .member-avatar-large {
    width: 100px;
    height: 100px;
  }

  .member-avatar-medium {
    width: 80px;
    height: 80px;
  }

  /* Album and music card adjustments */
  .album-cover {
    width: 60px;
    height: 60px;
  }

  .album-cover-large {
    width: 150px;
    height: 150px;
  }

  .music-album-image {
    max-height: 210px;
    width: 210px;
  }

  /* Portal navigation buttons */
  .portal-navigation .btn {
    font-size: 0.875rem;
    padding: 0.5rem 0.875rem;
  }

  /* Social media buttons */
  .social-facebook,
  .social-instagram,
  .social-youtube,
  .social-spotify {
    font-size: 0.875rem;
    padding: 0.5rem 0.875rem;
    flex: 1 1 auto;
    justify-content: center;
  }

  /* Event and member cards */
  .event-card,
  .member-card,
  .album-card {
    padding: 0.875rem;
  }

  .event-image,
  .member-event-image {
    height: 150px;
  }

  /* Dropdown menus */
  .dropdown-menu {
    font-size: 0.9rem;
  }

  .dropdown-item {
    padding: 0.5rem 1rem;
    min-height: 44px;
    display: flex;
    align-items: center;
  }

  /* Pagination mobile */
  .pagination {
    flex-wrap: wrap;
  }

  .page-link {
    padding: 0.375rem 0.625rem;
    min-width: 44px;
    min-height: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  /* Badge sizing */
  .badge {
    font-size: 0.75em;
    padding: 0.3em 0.55em;
  }

  /* Identity pages mobile */
  .identity-container,
  .login-card {
    padding: 1.5rem;
    margin: 1rem auto;
  }

  .identity-logo {
    max-width: 150px;
  }

  /* Admin section adjustments */
  .admin-slideshow-image {
    height: 150px;
  }

  .slideshow-preview,
  .admin-image-preview {
    max-width: 100%;
    max-height: 200px;
  }

  /* Repertoire modal mobile */
  .repertoire-card-content {
    padding: 0.75rem 1rem;
    gap: 0.625rem;
  }

  .repertoire-item-text {
    font-size: 0.95rem;
  }

  /* Family tree mobile */
  .family-tree-container {
    padding: 10px;
  }

  .member-card {
    min-width: 120px;
    padding: 10px;
  }

  .member-avatar-large {
    width: 70px;
    height: 70px;
  }

  /* Image cropper mobile */
  .crop-area {
    height: 300px;
  }

  .crop-preview {
    width: 150px;
    height: 150px;
  }

  /* Footer adjustments */
  .footer {
    padding: 0.75rem 1rem;
    font-size: 0.875rem;
  }

  /* Utility spacing adjustments for mobile */
  .mt-4 { margin-top: 1.25rem !important; }
  .mb-4 { margin-bottom: 1.25rem !important; }
  .mt-5 { margin-top: 2rem !important; }
  .mb-5 { margin-bottom: 2rem !important; }
  .py-4 { padding-top: 1.25rem !important; padding-bottom: 1.25rem !important; }
  .py-5 { padding-top: 2rem !important; padding-bottom: 2rem !important; }

  /* Fix overflow issues on mobile */
  body {
    overflow-x: hidden;
  }
  
  /* Allow horizontal scroll for family tree page */
  body:has(.family-tree-viewport) {
    overflow-x: visible;
  }

  .row {
    margin-left: -0.375rem;
    margin-right: -0.375rem;
  }

  [class*="col-"] {
    padding-left: 0.375rem;
    padding-right: 0.375rem;
  }

  /* Portal content mobile */
  .portal-content-section {
    padding: 1rem 0;
  }

  .portal-intro-text {
    font-size: 1rem;
  }

  .portal-event-image,
  .hierarchy-card-image {
    height: 150px;
  }

  /* Ensure all interactive elements meet touch target minimum */
  a:not(.nav-link):not(.btn):not(.dropdown-item) {
    min-height: 24px;
    display: inline-flex;
    align-items: center;
  }

  /* Search bars mobile */
  .search-bar-container .form-control {
    font-size: 15px;
  }

  /* Improve tap target spacing */
  .btn-group .btn {
    margin: 0.125rem;
  }

  /* Make sure modals don't overflow */
  .modal-body {
    max-height: 60vh;
    overflow-y: auto;
  }

  /* Report cards mobile */
  .report-card {
    padding: 1rem;
  }

  .report-stat {
    font-size: 1.5rem;
  }

  /* Profile section mobile */
  .profile-section {
    padding: 1rem;
    margin-bottom: 1rem;
  }
}

/* Mobile landscape orientation (small screens in landscape) */
@media (max-width: 768px) and (orientation: landscape) {
  .carousel-image {
    height: 200px;
  }

  .navbar {
    padding: 0.375rem 0.5rem;
  }

  .modal-dialog {
    max-width: calc(100vw - 2rem);
  }
}

/* Tablet styles (medium screens) */
@media (min-width: 769px) and (max-width: 991px) {
  .navbar-brand {
    font-size: 1.15rem;
  }

  .carousel-image {
    height: 350px;
  }

  .logo-main {
    max-width: 250px;
  }

  .container-xxl {
    padding-left: 1.5rem;
    padding-right: 1.5rem;
  }
}

/* Small mobile devices (very small phones) */
@media (max-width: 375px) {
  body {
    font-size: 14px;
  }

  .navbar-brand {
    font-size: 1rem;
  }

  .carousel-image {
    height: 200px;
  }

  .logo-main {
    max-width: 160px;
  }

  h1, .h1 {
    font-size: 1.5rem;
  }

  h2, .h2 {
    font-size: 1.3rem;
  }

  .btn {
    font-size: 0.875rem;
    padding: 0.45rem 0.875rem;
  }

  .card {
    padding: 0.75rem;
  }

  .portal-navigation .btn {
    font-size: 0.8rem;
    padding: 0.45rem 0.75rem;
  }

  .member-card {
    min-width: 100px;
    padding: 8px;
  }
}
